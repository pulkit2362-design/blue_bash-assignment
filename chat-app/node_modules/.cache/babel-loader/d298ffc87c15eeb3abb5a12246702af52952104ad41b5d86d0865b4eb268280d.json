{"ast":null,"code":"import React,{useRef}from\"react\";import SendButton from\"./sendButton\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatBox=_ref=>{let{user,messages,inputValue,onInputChange,onSendMessage}=_ref;const textAreaRef=useRef(null);const adjustHeight=()=>{if(textAreaRef.current){textAreaRef.current.style.height=\"auto\";textAreaRef.current.style.height=textAreaRef.current.scrollHeight+\"px\";}};const handleKeyDown=e=>{if(e.key===\"Enter\"){if(e.shiftKey){// Insert a new line\ne.preventDefault();onInputChange(user,inputValue+\"\\n\");setTimeout(adjustHeight,0);}else{e.preventDefault();onSendMessage(user);setTimeout(()=>{if(textAreaRef.current){textAreaRef.current.style.height=\"40px\";}},0);}}};return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:`card-header text-white ${user===\"John\"?\"bg-primary\":\"bg-success\"}`,children:user}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body chat-box\",style:{height:\"70vh\",overflowY:\"auto\"},children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:`d-flex ${msg.sender===user?\"justify-content-end\":\"justify-content-start\"}`,children:/*#__PURE__*/_jsxs(\"div\",{className:`alert ${msg.sender===user?user===\"John\"?\"alert-primary\":\"alert-success\":\"alert-secondary\"}`,style:{maxWidth:\"75%\"},children:[msg.text,/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",style:{fontSize:\"12px\",textAlign:msg.sender===user?\"right\":\"left\"},children:msg.time})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer d-flex\",children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textAreaRef,className:\"form-control me-2\",placeholder:\"Type a message...\",value:inputValue,onChange:e=>{onInputChange(user,e.target.value);adjustHeight();},onKeyDown:handleKeyDown,rows:1,style:{maxHeight:\"150px\",overflowY:\"auto\"}}),/*#__PURE__*/_jsx(SendButton,{user:user,onSendMessage:onSendMessage})]})]})});};export default ChatBox;","map":{"version":3,"names":["React","useRef","SendButton","jsx","_jsx","jsxs","_jsxs","ChatBox","_ref","user","messages","inputValue","onInputChange","onSendMessage","textAreaRef","adjustHeight","current","style","height","scrollHeight","handleKeyDown","e","key","shiftKey","preventDefault","setTimeout","className","children","overflowY","map","msg","index","sender","maxWidth","text","fontSize","textAlign","time","ref","placeholder","value","onChange","target","onKeyDown","rows","maxHeight"],"sources":["/Users/pulkitanand/Downloads/blue_bash/micro-frontend-app/chat-app/src/components/chatBox.js"],"sourcesContent":["import React, { useRef } from \"react\";\nimport SendButton from \"./sendButton\";\n\nconst ChatBox = ({\n  user,\n  messages,\n  inputValue,\n  onInputChange,\n  onSendMessage,\n}) => {\n  const textAreaRef = useRef(null);\n  const adjustHeight = () => {\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = \"auto\";\n      textAreaRef.current.style.height =\n        textAreaRef.current.scrollHeight + \"px\";\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      if (e.shiftKey) {\n        // Insert a new line\n        e.preventDefault();\n        onInputChange(user, inputValue + \"\\n\");\n        setTimeout(adjustHeight, 0);\n      } else {\n        e.preventDefault();\n        onSendMessage(user);\n        setTimeout(() => {\n          if (textAreaRef.current) {\n            textAreaRef.current.style.height = \"40px\";\n          }\n        }, 0);\n      }\n    }\n  };\n\n  return (\n    <div className=\"col-md-6\">\n      <div className=\"card\">\n        <div\n          className={`card-header text-white ${\n            user === \"John\" ? \"bg-primary\" : \"bg-success\"\n          }`}\n        >\n          {user}\n        </div>\n        <div\n          className=\"card-body chat-box\"\n          style={{ height: \"70vh\", overflowY: \"auto\" }}\n        >\n          {messages.map((msg, index) => (\n            <div\n              key={index}\n              className={`d-flex ${\n                msg.sender === user\n                  ? \"justify-content-end\"\n                  : \"justify-content-start\"\n              }`}\n            >\n              <div\n                className={`alert ${\n                  msg.sender === user\n                    ? user === \"John\"\n                      ? \"alert-primary\"\n                      : \"alert-success\"\n                    : \"alert-secondary\"\n                }`}\n                style={{ maxWidth: \"75%\" }}\n              >\n                {msg.text}\n                <div\n                  className=\"text-muted\"\n                  style={{\n                    fontSize: \"12px\",\n                    textAlign: msg.sender === user ? \"right\" : \"left\",\n                  }}\n                >\n                  {msg.time}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"card-footer d-flex\">\n          <textarea\n            ref={textAreaRef}\n            className=\"form-control me-2\"\n            placeholder=\"Type a message...\"\n            value={inputValue}\n            onChange={(e) => {\n              onInputChange(user, e.target.value);\n              adjustHeight();\n            }}\n            onKeyDown={handleKeyDown}\n            rows={1}\n            style={{ maxHeight: \"150px\", overflowY: \"auto\" }}\n          />\n          <SendButton user={user} onSendMessage={onSendMessage} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatBox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}